import{_ as he}from"./Button.vue_vue_type_script_setup_true_lang-269419a9.js";import{p as U,a as ye,_ as xe}from"./Text.vue_vue_type_script_setup_true_lang-aee2f3f9.js";import{d as re,y as h,D as b,A as be,o as se,j as _e,z as Re,i as we,w as W,g as Ee,n as Ve,h as Ce,b as _,x as je,m as Oe,u as c,J as Pe,K as Le,L as j,M as k,N as B,B as Ae,P as Se,Q as ze,R as Z,S as H,E as J,v as Ie,c as Te,e as ke,a as I}from"./main-2329afd4.js";const Ne=["name","placeholder","value","rows","disabled"],Be=re({__name:"TextArea",props:{...U,modelValue:String,placeholder:String,autocomplete:String,autofocus:Boolean,type:{type:String,default:"text"},rows:{type:[String,Number],default:6}},emits:["update:modelValue"],setup(e,{expose:r,emit:n}){const t=e,s=h(()=>{const $={};for(const i of Object.keys(U))$[i]=t[i];return $}),o=b(null);return be(()=>{o.value.hasAttribute("autofocus")&&o.value.focus()}),r({focus:()=>o.value.focus()}),($,i)=>{const f=ye;return se(),_e(f,Oe(c(s),{value:e.modelValue,"icon-class":"absolute inset-y-0 right-0 top-3 flex h-5 items-center pr-3"}),Re({default:W(l=>[_("textarea",{name:$.name,ref_key:"input",ref:o,class:je([l.error?"error border-red-600 text-red-500 placeholder-red-700 focus:border-red-500 focus:ring-red-600":"text-dark-200 placeholder-dark-400 shadow-sm focus:border-indigo-500 focus:ring-indigo-500","block min-h-10 rounded-md border-gray-300 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-700 sm:text-sm",l.class]),placeholder:e.placeholder,value:e.modelValue,rows:e.rows,disabled:l.disabled,onInput:i[0]||(i[0]=u=>$.$emit("update:modelValue",u.target.value))},null,42,Ne)]),_:2},[we(Object.keys($.$slots).filter(l=>!["default","icon"].includes(l)),l=>({name:l,fn:W(u=>[Ee($.$slots,l,Ve(Ce(u)))])}))]),1040,["value"])}}});function Q(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,t)=>(r.includes(t)||(n[t]=c(e[t])),n),{})}function P(e){return typeof e=="function"}function De(e){return Se(e)||ze(e)}function ae(e,r,n){let t=e;const s=r.split(".");for(let o=0;o<s.length;o++){if(!t[s[o]])return n;t=t[s[o]]}return t}function T(e,r,n){return h(()=>e.some(t=>ae(r,t,{[n]:!1})[n]))}function K(e,r,n){return h(()=>e.reduce((t,s)=>{const o=ae(r,s,{[n]:!1})[n]||[];return t.concat(o)},[]))}function oe(e,r,n,t){return e.call(t,c(r),c(n),t)}function le(e){return e.$valid!==void 0?!e.$valid:!e}function Fe(e,r,n,t,s,o,$){let{$lazy:i,$rewardEarly:f}=s,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8?arguments[8]:void 0,m=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0;const p=b(!!t.value),a=b(0);n.value=!1;const v=j([r,t].concat(l,g),()=>{if(i&&!t.value||f&&!m.value&&!n.value)return;let d;try{d=oe(e,r,u,$)}catch(x){d=Promise.reject(x)}a.value++,n.value=!!a.value,p.value=!1,Promise.resolve(d).then(x=>{a.value--,n.value=!!a.value,o.value=x,p.value=le(x)}).catch(x=>{a.value--,n.value=!!a.value,o.value=x,p.value=!0})},{immediate:!0,deep:typeof r=="object"});return{$invalid:p,$unwatch:v}}function qe(e,r,n,t,s,o,$,i){let{$lazy:f,$rewardEarly:l}=t;const u=()=>({}),m=h(()=>{if(f&&!n.value||l&&!i.value)return!1;let g=!0;try{const p=oe(e,r,$,o);s.value=p,g=le(p)}catch(p){s.value=p}return g});return{$unwatch:u,$invalid:m}}function Ge(e,r,n,t,s,o,$,i,f,l,u){const m=b(!1),g=e.$params||{},p=b(null);let a,v;e.$async?{$invalid:a,$unwatch:v}=Fe(e.$validator,r,m,n,t,p,s,e.$watchTargets,f,l,u):{$invalid:a,$unwatch:v}=qe(e.$validator,r,n,t,p,s,f,l);const d=e.$message;return{$message:P(d)?h(()=>d(Q({$pending:m,$invalid:a,$params:Q(g),$model:r,$response:p,$validator:o,$propertyPath:i,$property:$}))):d||"",$params:g,$pending:m,$invalid:a,$response:p,$unwatch:v}}function Me(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=c(e),n=Object.keys(r),t={},s={},o={};let $=null;return n.forEach(i=>{const f=r[i];switch(!0){case P(f.$validator):t[i]=f;break;case P(f):t[i]={$validator:f};break;case i==="$validationGroups":$=f;break;case i.startsWith("$"):o[i]=f;break;default:s[i]=f}}),{rules:t,nestedValidators:s,config:o,validationGroups:$}}function Ue(){}const We="__root";function ie(e,r,n){if(n)return r?r(e()):e();try{var t=Promise.resolve(e());return r?t.then(r):t}catch(s){return Promise.reject(s)}}function Ze(e,r){return ie(e,Ue,r)}function He(e,r){var n=e();return n&&n.then?n.then(r):r(n)}function Je(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(e.apply(this,r))}catch(t){return Promise.reject(t)}}}function Qe(e,r,n,t,s,o,$,i,f){const l=Object.keys(e),u=t.get(s,e),m=b(!1),g=b(!1),p=b(0);if(u){if(!u.$partial)return u;u.$unwatch(),m.value=u.$dirty.value}const a={$dirty:m,$path:s,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)},$commit:()=>{}};return l.length?(l.forEach(v=>{a[v]=Ge(e[v],r,a.$dirty,o,$,v,n,s,f,g,p)}),a.$externalResults=h(()=>i.value?[].concat(i.value).map((v,d)=>({$propertyPath:s,$property:n,$validator:"$externalResults",$uid:`${s}-externalResult-${d}`,$message:v,$params:{},$response:null,$pending:!1})):[]),a.$invalid=h(()=>{const v=l.some(d=>c(a[d].$invalid));return g.value=v,!!a.$externalResults.value.length||v}),a.$pending=h(()=>l.some(v=>c(a[v].$pending))),a.$error=h(()=>a.$dirty.value?a.$pending.value||a.$invalid.value:!1),a.$silentErrors=h(()=>l.filter(v=>c(a[v].$invalid)).map(v=>{const d=a[v];return B({$propertyPath:s,$property:n,$validator:v,$uid:`${s}-${v}`,$message:d.$message,$params:d.$params,$response:d.$response,$pending:d.$pending})}).concat(a.$externalResults.value)),a.$errors=h(()=>a.$dirty.value?a.$silentErrors.value:[]),a.$unwatch=()=>l.forEach(v=>{a[v].$unwatch()}),a.$commit=()=>{g.value=!0,p.value=Date.now()},t.set(s,e,a),a):(u&&t.set(s,e,a),a)}function Ke(e,r,n,t,s,o,$){const i=Object.keys(e);return i.length?i.reduce((f,l)=>(f[l]=N({validations:e[l],state:r,key:l,parentKey:n,resultsCache:t,globalConfig:s,instance:o,externalResults:$}),f),{}):{}}function Xe(e,r,n){const t=h(()=>[r,n].filter(a=>a).reduce((a,v)=>a.concat(Object.values(c(v))),[])),s=h({get(){return e.$dirty.value||(t.value.length?t.value.every(a=>a.$dirty):!1)},set(a){e.$dirty.value=a}}),o=h(()=>{const a=c(e.$silentErrors)||[],v=t.value.filter(d=>(c(d).$silentErrors||[]).length).reduce((d,x)=>d.concat(...x.$silentErrors),[]);return a.concat(v)}),$=h(()=>{const a=c(e.$errors)||[],v=t.value.filter(d=>(c(d).$errors||[]).length).reduce((d,x)=>d.concat(...x.$errors),[]);return a.concat(v)}),i=h(()=>t.value.some(a=>a.$invalid)||c(e.$invalid)||!1),f=h(()=>t.value.some(a=>c(a.$pending))||c(e.$pending)||!1),l=h(()=>t.value.some(a=>a.$dirty)||t.value.some(a=>a.$anyDirty)||s.value),u=h(()=>s.value?f.value||i.value:!1),m=()=>{e.$touch(),t.value.forEach(a=>{a.$touch()})},g=()=>{e.$commit(),t.value.forEach(a=>{a.$commit()})},p=()=>{e.$reset(),t.value.forEach(a=>{a.$reset()})};return t.value.length&&t.value.every(a=>a.$dirty)&&m(),{$dirty:s,$errors:$,$invalid:i,$anyDirty:l,$error:u,$pending:f,$touch:m,$reset:p,$silentErrors:o,$commit:g}}function N(e){const r=Je(function(){return z(),He(function(){if(d.$rewardEarly)return M(),Ze(J)},function(){return ie(J,function(){return new Promise(y=>{if(!S.value)return y(!A.value);const E=j(S,()=>{y(!A.value),E()})})})})});let{validations:n,state:t,key:s,parentKey:o,childResults:$,resultsCache:i,globalConfig:f={},instance:l,externalResults:u}=e;const m=o?`${o}.${s}`:s,{rules:g,nestedValidators:p,config:a,validationGroups:v}=Me(n),d=Object.assign({},f,a),x=s?h(()=>{const y=c(t);return y?c(y[s]):void 0}):t,C=Object.assign({},c(u)||{}),F=h(()=>{const y=c(u);return s?y?c(y[s]):void 0:y}),q=Qe(g,x,s,i,m,d,l,F,t),w=Ke(p,x,m,i,d,l,F),G={};v&&Object.entries(v).forEach(y=>{let[E,R]=y;G[E]={$invalid:T(R,w,"$invalid"),$error:T(R,w,"$error"),$pending:T(R,w,"$pending"),$errors:K(R,w,"$errors"),$silentErrors:K(R,w,"$silentErrors")}});const{$dirty:L,$errors:ce,$invalid:A,$anyDirty:de,$error:fe,$pending:S,$touch:z,$reset:$e,$silentErrors:me,$commit:M}=Xe(q,w,$),ve=s?h({get:()=>c(x),set:y=>{L.value=!0;const E=c(t),R=c(u);R&&(R[s]=C[s]),k(E[s])?E[s].value=y:E[s]=y}}):null;s&&d.$autoDirty&&j(x,()=>{L.value||z();const y=c(u);y&&(y[s]=C[s])},{flush:"sync"});function pe(y){return($.value||{})[y]}function ge(){k(u)?u.value=C:Object.keys(C).length===0?Object.keys(u).forEach(y=>{delete u[y]}):Object.assign(u,C)}return B(Object.assign({},q,{$model:ve,$dirty:L,$error:fe,$errors:ce,$invalid:A,$anyDirty:de,$pending:S,$touch:z,$reset:$e,$path:m||We,$silentErrors:me,$validate:r,$commit:M},$&&{$getResultsForChild:pe,$clearExternalResults:ge,$validationGroups:G},w))}class Ye{constructor(){this.storage=new Map}set(r,n,t){this.storage.set(r,{rules:n,result:t})}checkRulesValidity(r,n,t){const s=Object.keys(t),o=Object.keys(n);return o.length!==s.length||!o.every(i=>s.includes(i))?!1:o.every(i=>n[i].$params?Object.keys(n[i].$params).every(f=>c(t[i].$params[f])===c(n[i].$params[f])):!0)}get(r,n){const t=this.storage.get(r);if(!t)return;const{rules:s,result:o}=t,$=this.checkRulesValidity(r,n,s),i=o.$unwatch?o.$unwatch:()=>({});return $?o:{$dirty:o.$dirty,$partial:!0,$unwatch:i}}}const O={COLLECT_ALL:!0,COLLECT_NONE:!1},X=Symbol("vuelidate#injectChildResults"),Y=Symbol("vuelidate#removeChildResults");function et(e){let{$scope:r,instance:n}=e;const t={},s=b([]),o=h(()=>s.value.reduce((u,m)=>(u[m]=c(t[m]),u),{}));function $(u,m){let{$registerAs:g,$scope:p,$stopPropagation:a}=m;a||r===O.COLLECT_NONE||p===O.COLLECT_NONE||r!==O.COLLECT_ALL&&r!==p||(t[g]=u,s.value.push(g))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],$);function i(u){s.value=s.value.filter(m=>m!==u),delete t[u]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],i);const f=Z(X,[]);H(X,n.__vuelidateInjectInstances);const l=Z(Y,[]);return H(Y,n.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:f,removeValidationResultsFromParent:l}}function ue(e){return new Proxy(e,{get(r,n){return typeof r[n]=="object"?ue(r[n]):h(()=>r[n])}})}let ee=0;function tt(e,r){var n;let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,r=void 0);let{$registerAs:s,$scope:o=O.COLLECT_ALL,$stopPropagation:$,$externalResults:i,currentVueInstance:f}=t;const l=f||((n=Pe())===null||n===void 0?void 0:n.proxy),u=l?l.$options:{};s||(ee+=1,s=`_vuelidate_${ee}`);const m=b({}),g=new Ye,{childResults:p,sendValidationResultsToParent:a,removeValidationResultsFromParent:v}=l?et({$scope:o,instance:l}):{childResults:b({})};if(!e&&u.validations){const d=u.validations;r=b({}),Le(()=>{r.value=l,j(()=>P(d)?d.call(r.value,new ue(r.value)):d,x=>{m.value=N({validations:x,state:r,childResults:p,resultsCache:g,globalConfig:t,instance:l,externalResults:i||l.vuelidateExternalResults})},{immediate:!0})}),t=u.validationsConfig||t}else{const d=k(e)||De(e)?e:B(e||{});j(d,x=>{m.value=N({validations:x,state:r,childResults:p,resultsCache:g,globalConfig:t,instance:l??{},externalResults:i})},{immediate:!0})}return l&&(a.forEach(d=>d(m,{$registerAs:s,$scope:o,$stopPropagation:$})),Ae(()=>v.forEach(d=>d(s)))),h(()=>Object.assign({},c(m.value),p.value))}const D=e=>{if(e=c(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let r in e)return!0;return!1}return!!String(e).length},nt=e=>(e=c(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function V(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=>(t=c(t),!D(t)||r.every(s=>s.test(t)))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const rt=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;V(rt);function st(e){return r=>!D(r)||nt(r)<=c(e)}function te(e){return{$validator:st(e),$message:r=>{let{$params:n}=r;return`The maximum length allowed is ${n.max}`},$params:{max:e,type:"maxLength"}}}function at(e){return typeof e=="string"&&(e=e.trim()),D(e)}var ne={$validator:at,$message:"Value is required",$params:{type:"required"}};const ot=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(ot);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);const lt={class:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8"},it={class:"py-4"},ut=["onSubmit"],ct={class:"shadow sm:overflow-hidden sm:rounded-md"},dt={class:"space-y-6 bg-white px-4 py-5 sm:p-6"},ft={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},$t={class:"sm:col-span-6"},mt={class:"sm:col-span-6"},vt={class:"flex bg-gray-50 px-4 py-3 text-right sm:px-6"},pt={class:"ml-auto"},xt=re({__name:"Create",props:{prompt:Object},setup(e){var o,$;const r=e,n=Ie("CreatePrompt",{title:((o=r.prompt)==null?void 0:o.title)??"",variables:{prompt:"",...(($=r.prompt)==null?void 0:$.variables)||{}}}),t=tt({title:{required:ne,maxLength:te(120)},variables:{prompt:{required:ne,maxLength:te(4e3)}}},n,{$autoDirty:!0});function s(){t.value.$touch(),!t.value.$error&&n.post(route("prompt.store"))}return(i,f)=>{const l=xe,u=Be,m=he;return se(),Te("div",lt,[_("div",it,[_("form",{onSubmit:ke(s,["prevent"])},[_("div",ct,[_("div",dt,[_("div",ft,[_("div",$t,[I(l,{modelValue:c(n).title,"onUpdate:modelValue":f[0]||(f[0]=g=>c(n).title=g),validation:c(t).title,title:"Prompt title",length:120,required:""},null,8,["modelValue","validation"])]),_("div",mt,[I(u,{modelValue:c(n).variables.prompt,"onUpdate:modelValue":f[1]||(f[1]=g=>c(n).variables.prompt=g),validation:c(t).variables.prompt,title:"Prompt description",length:4e3,required:""},null,8,["modelValue","validation"])])])]),_("div",vt,[_("div",pt,[I(m,{type:"submit",title:"Save Prompt",disabled:c(n).processing},null,8,["disabled"])])])])],40,ut)])])}}});export{xt as _};
