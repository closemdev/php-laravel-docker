import{_ as k}from"./Authenticated.vue_vue_type_script_setup_true_lang-6ceeffb4.js";import{d as _,y,o as a,c as l,b as e,u as c,f as m,t as u,F as x,i as v,l as w,x as C,a as r,w as g,O as N,X as z}from"./main-2329afd4.js";import{L as B}from"./AppLink.vue_vue_type_script_lang-fbce5424.js";import{u as L}from"./alert-9d611ff3.js";const A={class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},H={class:"flex flex-1 justify-between sm:hidden"},P=["disabled"],V=["disabled"],j={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},E={class:"text-sm text-gray-700"},I={class:"font-medium"},O={class:"font-medium"},U={class:"font-medium"},M={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},T=["disabled"],D=e("span",{class:"sr-only"},"Previous",-1),F=e("i",{class:"fa-solid fa-chevron-left w-5 text-center"},null,-1),S=[D,F],Y={key:0,class:"relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700"},R=["onClick"],X=["disabled"],q=e("span",{class:"sr-only"},"Next",-1),G=e("i",{class:"fa-solid fa-chevron-right w-5 text-center"},null,-1),J=[q,G],K=_({__name:"Pagination",props:{total:{type:Number},page:{type:Number},take:{type:Number}},emits:["paginate"],setup(t){const i=t,p=y(()=>i.total>0?i.total/i.take:0),f=y(()=>{const o=[],s=i.total>0?i.total/i.take:0;if(s<6)for(let n=1;n<s+1;n++)o.push(n);else if([1,2,3].includes(i.page))o.push(1,2,3,s-2,s-1,s);else if([s-3,s-2,s-2,s-1,s].includes(i.page)){for(let n=5;n>0;n--)o.push(s-n);o.push(s)}else o.push(i.page-1,i.page,i.page+1,s-2,s-1,s);return o});return(o,s)=>(a(),l("div",A,[e("div",H,[e("button",{onClick:s[0]||(s[0]=n=>o.$emit("paginate",t.page-1)),disabled:t.page-1<1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-200"}," Previous ",8,P),e("button",{onClick:s[1]||(s[1]=n=>o.$emit("paginate",t.page+1)),disabled:t.page+1>c(p),class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-200"}," Next ",8,V)]),e("div",j,[e("div",null,[e("p",E,[m(" Showing "),e("span",I,u((t.page-1)*t.take),1),m(" to "),e("span",O,u(t.page*t.take),1),m(" of "),e("span",U,u(t.total),1),m(" results ")])]),e("div",null,[e("nav",M,[e("button",{onClick:s[2]||(s[2]=n=>o.$emit("paginate",t.page-1)),disabled:t.page-1<1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 disabled:bg-gray-200"},S,8,T),(a(!0),l(x,null,v(c(f),(n,h)=>(a(),l(x,null,[c(f).length>5&&h==3?(a(),l("span",Y," ... ")):w("",!0),e("button",{onClick:b=>o.$emit("paginate",n),class:C(["relative inline-flex items-center border px-4 py-2 text-sm font-medium focus:z-20",[t.page===n?"z-10 border-indigo-500 bg-indigo-50 text-indigo-600":"border-gray-300 bg-white text-gray-500"]])},u(n),11,R)],64))),256)),e("button",{onClick:s[3]||(s[3]=n=>o.$emit("paginate",t.page+1)),disabled:t.page+1>c(p),class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 disabled:bg-gray-200"},J,8,X)])])])]))}}),Q={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},W=e("path",{fill:"currentColor",d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"},null,-1),Z=[W];function ee(t,i){return a(),l("svg",Q,Z)}const te={name:"bi-trash-fill",render:ee},se={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},oe=e("path",{fill:"currentColor",d:"m17.849 11.808l-.707-.707l-9.9 9.9H3v-4.243L14.313 5.444l5.657 5.657a1 1 0 0 1 0 1.414l-7.07 7.071l-1.415-1.414l6.364-6.364zm.707-9.192l2.829 2.828a1 1 0 0 1 0 1.414L19.97 8.273L15.728 4.03l1.414-1.414a1 1 0 0 1 1.414 0z"},null,-1),ne=[oe];function ie(t,i){return a(),l("svg",se,ne)}const ae={name:"ri-ball-pen-fill",render:ie},le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=e("path",{fill:"currentColor",d:"M10 11H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-8h6v3l5-4l-5-4v3z"},null,-1),de=[re];function ce(t,i){return a(),l("svg",le,de)}const me={name:"ri-login-box-fill",render:ce},ue={class:"mx-auto max-w-7xl py-12 sm:px-6 lg:px-8"},he={class:"px-4 sm:px-6 lg:px-8"},ge={class:"sm:flex sm:items-center"},pe=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Users"),e("p",{class:"mt-2 text-sm text-gray-700"},"A list of all the users including their name, email, role and balance.")],-1),fe={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},xe={class:"mt-8 flex flex-col"},be={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},ye={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},_e={class:"overflow-hidden shadow md:rounded-lg"},ve={class:"min-w-full divide-y divide-gray-300"},we=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Email"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Role"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Edit")])])],-1),$e={class:"divide-y divide-gray-200 bg-white"},ke={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ce={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Ne={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},ze={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Be={class:"list-none"},Le={key:0,class:"mr-3 inline-block"},Ae={class:"mr-3 inline-block"},He={class:"mr-3 inline-block"},Ie=_({__name:"Users",props:{auth:{type:Object},errors:{type:Object},users:{type:Array},total:{type:Number},page:{type:Number},take:{type:Number}},setup(t){const i=t;function p(o){o!==i.page&&N.visit(route("users",{page:o}))}async function f(){return(await L({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed}return(o,s)=>{const n=z,h=B,b=K,$=k;return a(),l(x,null,[r(n,{title:"Users"}),r($,null,{default:g(()=>[e("div",ue,[e("div",he,[e("div",ge,[pe,e("div",fe,[r(h,{href:o.route("user.create"),class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:g(()=>[m(" Add User ")]),_:1},8,["href"])])]),e("div",xe,[e("div",be,[e("div",ye,[e("div",_e,[e("table",ve,[we,e("tbody",$e,[(a(!0),l(x,null,v(t.users,d=>(a(),l("tr",{key:d.email},[e("td",ke,u(d.name),1),e("td",Ce,u(d.email),1),e("td",Ne,u(d.role),1),e("td",ze,[e("ul",Be,[d.id!==t.auth.user.id&&d.role!=="admin"?(a(),l("li",Le,[r(h,{href:o.route("impersonate",{id:d.id}),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none"},{default:g(()=>[r(c(me),{class:"-ml-0.5 mr-2 h-4 w-4"}),m(" Login ")]),_:2},1032,["href"])])):w("",!0),e("li",Ae,[r(h,{href:o.route("user.show",{id:d.id}),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none"},{default:g(()=>[r(c(ae),{class:"-ml-0.5 mr-2 h-4 w-4"}),m(" Edit ")]),_:2},1032,["href"])]),e("li",He,[r(h,{method:"delete",as:"button",type:"button",href:o.route("user.destroy",{user:d.id}),confirm:f,class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-red-700 focus:outline-none"},{default:g(()=>[r(c(te),{class:"h-4 w-4"})]),_:2},1032,["href"])])])])]))),128))])]),r(b,{page:t.page,take:t.take,total:t.total,onPaginate:p},null,8,["page","take","total"])])])])])])])]),_:1})],64)}}});export{Ie as default};
